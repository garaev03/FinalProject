@model VehicleGetDto
@{
    ViewData["Title"] = Model.Model.Make.Name + " " + Model.Model.Name;
    List<VehicleGetDto> vehicles = ViewData["Vehicles"] as List<VehicleGetDto>;
}

<div class="pt-3 pb-3" style="background-color:#F1F3F7">
    <h4 class="ms-4">@Model.Model.Make.Name @Model.Model.Name</h4>
</div>

<div class="row">
    <div class="col-7 mt-3">
        <div id="main-slider" class="splide">
            <div class="splide__track">
                <ul class="splide__list">
                    @foreach (var item in Model.Images)
                    {
                        <li class="splide__slide">
                            <img src="~/assets/images/vehicle-images/@item.Path" />
                        </li>
                    }
                </ul>
            </div>
        </div>

        <ul id="thumbnails" class="thumbnails">
            @foreach (var item in Model.Images)
            {
                <li class="thumbnail">
                    <img src="~/assets/images/vehicle-images/@item.Path" />
                </li>
            }
        </ul>

    </div>
    <div class="col-5 mt-3">
        <div class="product-sidebar js-sticky-sidebar  shadow p-3 pb-4" style="background-color:#F1F3F7">
            <div class="product-sidebar__box">
                <div class="product-price">
                    <div class="product-price">@Model.Price @Model.Currency.Name</div>
                </div>
                <hr />
                <div class="d-flex justify-content-between mt-4 mb-4">
                    <div>
                        <div class="owner-name" style="font-size:18px">@Model.OwnerName</div>
                        <div class="product-city">@Model.City.Name</div>
                    </div>
                    <div class="rounded-circle p-3">
                        <i class="fa-solid fa-user fa-2xl"></i>
                    </div>
                </div>
                <div class="text-center">
                    <p style="font-size:20px">Zəng et</p>
                    <a class="btn btn-lg btn-success" href="tel: +994 @Model.PhoneNumber.Number">+994 @Model.PhoneNumber.Number <i class="fa-solid fa-phone-flip"></i></a>
                </div>
            </div>
        </div>
        <div class="renew-date mt-3 shadow p-3" style="background-color:#F1F3F7">
            <p class="m-0">Yeniləndi: @Model.CreatedDate.Value.ToString("dd MM yyy ")</p>
        </div>
    </div>
</div>

<div class="product-spesifications shadow p-4">
    <div class="d-flex justify-content-between">
        <div class="d-flex">
            <div class="d-flex align-items-center text-danger">
                <i class="fa-solid fa-road fa-2xl"></i>
            </div>
            <div class="ms-2">
                <p class="spesis m-0">Odometr</p>
                <p class="spes-text m-0">@Model.Milage @Model.MileageType.Name</p>
            </div>
        </div>

        <div class="d-flex ">
            <div class="d-flex align-items-center">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAACVElEQVR4nO2a0WoUMRSGcyVYbe9ae69YsAjeFl+gSrud85fctX2Aeu12QRAE30QfQx9A1yLoFgtdfYNeqC27Ob2IRLfYhpmdwUxmY/d8EFg2828m/yYnMzlRShAEQRAEQRAqYbe2bjDRniHqGqKTUeky0HZ1qeuDGGq9xETfGLC5hejrMMvupqoPwq6uzjHQL2z8b+nbVms2NX0wDHQqNH7+T+ylpq/DgH2vkVdW63lX3GfvJj6kpg/GAKcXG7Hr67fO66zWixfrXGBKTV+/AVovBnWgYX0wnDcEiRZcYeC1dwPd1PR1GNCpHISAdmr6YGyrNVt5GdL6Zmr6WhhofYeJemMa/zzIstuR9YeFeqIv7hoVE6v1NUO04zdugG1X14D+OhM9yen8rqtTTcHeDfxv+mBYDICMAJYpAIkBLEEQsgqwLIOYeJn4cwCLAZARwNM8BVTD+onDYgBkBLBMATQeA/ICoCH6aYC3Z8BjddVjAJesBobohZpmAxiwZ1n2SE2zAYbojYqFLdrUJNoJ2hStqM8zjrNsxfut7yoGgz/b0geF7hP1xm1Lh+oLDQAeRn+wsonk96tMgSgGcCL5/QraXpWp9C8G7KeQ3y8Jfsdmc3NZxcAkkt8v+fePonQ+pfx+Tsc/XtJubDxQMeBE8vs5BjzztC9jGdBJIb/vX/v76NxlYw+jGGATye/714++++RNg/tRTBiWHVQE+kEHHUv0Ywx43tgLkXVHVYG2Ad6PXkN/GOAdA0/t2tpMbH2eAUOt73nT4KCu/gqCIAiCIAjqivIL/kmQL/dNWjgAAAAASUVORK5CYII=">
            </div>
            <div class="ms-2">
                <p class="spesis m-0">Sürət qutusu</p>
                <p class="spes-text m-0">@Model.GearBox.Name</p>
            </div>
        </div>

        <div class="d-flex">
            <div class="d-flex align-items-center text-danger">
                <i class="fa-solid fa-gas-pump fa-2xl"></i>
            </div>
            <div class="ms-2">
                <p class="spesis m-0">Yanacaq</p>
                <p class="spes-text m-0">@Model.Fuel.Name</p>
            </div>
        </div>

        <div class="d-flex">
            <div class="d-flex align-items-center text-danger">
                <i class="fa-regular fa-calendar-days fa-2xl"></i>
            </div>
            <div class="ms-2">
                <p class="spesis m-0">İl</p>
                <p class="spes-text m-0">@Model.Year.Value</p>
            </div>
        </div>

        <div class="d-flex ">
            <div class="d-flex align-items-center text-danger">
                <i class="fa-solid fa-car-side fa-2xl"></i>
            </div>
            <div class="ms-2">
                <p class="spesis m-0">Vəziyyəti</p>
                <p class="spes-text m-0">
                    @if (Model.Reports.Count is 0)
                    {
                        <span>Vuruğu yoxdur/Rənglənmiyib</span>
                    }
                    else
                    {
                        @foreach (var item in Model.Reports)
                        {
                            <span>@item.Name</span>
                        }
                    }
                </p>
            </div>
        </div>


    </div>
    <div class="mt-4">
        <div class="mb-3">
            <h6>Təchizatları</h6>
        </div>
        <div>
            @foreach (var item in Model.Supplies)
            {
                <span class="border rounded-pill p-2 pt-1 pb-1" style="background-color:#EDEEF0"><i class="fa-solid fa-check me-2" style="color:#5A5E66"></i>@item.Name</span>
            }
        </div>
    </div>
</div>

<div class="full-details shadow p-4 pt-5">
    <div>
        <h4>Full Detallar</h4>
    </div>
    <div>
        <table class="table table-striped table-hover mt-2">
            <tbody>

                <tr>
                    <th scope="row">Ban növü</th>
                    <td style="width: 20rem;text-align: center;">@Model.Ban.Name</td>
                    <th scope="row">Yığıldığı bazar </th>
                    <td style="width: 20rem;text-align: center;">@Model.Country.Name</td>
                </tr>
                <tr>
                    <th scope="row">Mühərrik həcmi</th>
                    <td style="width: 20rem;text-align: center;">@Model.EngineCapacity.Value</td>
                    <th scope="row">Rəng</th>
                    <td style="width: 20rem;text-align: center;">@Model.Color.Name</td>
                </tr>
                <tr>
                    <th scope="row">Mühərrik gücü</th>
                    <td style="width: 20rem;text-align: center;">@Model.EnginePower</td>
                    <th scope="row">Şəhər</th>
                    <td style="width: 20rem;text-align: center;">@Model.City.Name</td>
                </tr>
                <tr>
                    <th scope="row">Ötürücü</th>
                    <td style="width: 20rem;text-align: center;">@Model.DriveTrain.Name</td>
                    <th scope="row">Kreditdədir</th>
                    <td style="width: 20rem;text-align: center;">
                        @if (Model.isCredit)
                        {
                            <span>Bəli</span>
                        }
                        else
                        {
                            <span>Xeyr</span>
                        }
                    </td>
                </tr>
                <tr>
                    <th scope="row">Oturacaq sayı</th>
                    <td style="width: 20rem;text-align: center;">@Model.Seat.Value</td>
                    <th scope="row">Barter mümkündür</th>
                    <td style="width: 20rem;text-align: center;">
                        @if (Model.isBarter)
                        {
                            <span>Bəli</span>
                        }
                        else
                        {
                            <span>Xeyr</span>
                        }
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <hr />
    <div>
        <h4>Məlumat</h4>
        <p class="mt-2">
            @Model.Description
        </p>
    </div>
</div>

<div class="mt-4 d-flex justify-content-between">
    <div>
        <a class="text-warning" style="text-decoration:none">Düzəliş et</a>
        <a class="ms-5 text-danger" style="text-decoration:none">Elanı sil</a>
    </div>
    <div>
        Elanın nömrəsi : <span>@Model.Id</span>
    </div>
</div>

<div>
    <div class="mt-5">
        <h4>Oxşar elanlar</h4>
    </div>
    <div class="cards">
        @foreach (var item in vehicles)
        {
          <a asp-controller="vehicle" asp-action="details" asp-route-id="@item.Id" style="text-decoration:none; color:black">
            <div class="car card col-3">
                <div class="car-img">
                    <img src="/assets/images/vehicle-images/@item.Images.FirstOrDefault(x=>x.isMain).Path" style="width: 100%;height: 240px;" alt="">
                </div>
                <div class="info">
                    <h4 class="mt-2">@item.Price @item.Currency.Name</h4>
                    <p>@item.Model.Make.Name @item.Model.Name <br> @item.Year.Value, @item.EngineCapacity.ConvertedValue L, @item.Milage @item.MileageType.Name</p>
                    <span>@item.City.Name, @item.CreatedDate.Value.ToString("dd MM yyy")</span>
                </div>
            </div>
        </a>
        }
    </div>
</div>